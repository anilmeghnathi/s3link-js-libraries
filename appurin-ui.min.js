Appurin.namespace("Appurin.ui"),Appurin.ui.createInputField=function(e,t,i){return"DOUBLE"==t.fieldType?Appurin.ui.createNumberInputField(e,t,i):"PICKLIST"==t.fieldType?Appurin.ui.createPicklistInputField(e,t,i):"STRING"==t.fieldType?Appurin.ui.createTextInputField(e,t,i):"TEXTAREA"==t.fieldType?t.isRichText?Appurin.ui.createRichTextInputField(e,t,i):Appurin.ui.createTextareaInputField(e,t,i):"BOOLEAN"==t.fieldType?Appurin.ui.createCheckboxInputField(e,t,i):"DATE"==t.fieldType?Appurin.ui.createDateInputField(e,t,i):"DATETIME"==t.fieldType?Appurin.ui.createDateTimeInputField(e,t,i):null},Appurin.ui.createNumberInputField=function(e,t,i){var n=document.createElement("input");return Appurin.setAttributes(n,{type:"text",class:"slds-input"}),n.value=null!=e[t.fieldAPIName]?e[t.fieldAPIName]:"",n.onchange=function(){Appurin.ui.validateInputFieldValue(j$(this),t.fieldType,t.fieldLabel),Appurin.ui.updateInputFieldValue(e,t.fieldAPIName,j$(this).val())},t.isReadOnly&&n.setAttribute("disabled","disabled"),n},Appurin.ui.createTextInputField=function(e,t,i){var n=document.createElement("input");return Appurin.setAttributes(n,{type:"text",class:"slds-input"}),n.value=null!=e[t.fieldAPIName]?e[t.fieldAPIName]:"",n.onchange=function(){Appurin.ui.updateInputFieldValue(e,t.fieldAPIName,j$(this).val())},n.style.width="100%",t.isReadOnly&&n.setAttribute("disabled","disabled"),n},Appurin.ui.createTextareaInputField=function(e,t,i){var n=document.createElement("textarea");return Appurin.setAttributes(n,{class:"slds-input"}),n.value=null!=e[t.fieldAPIName]?e[t.fieldAPIName]:"",n.onchange=function(){Appurin.ui.updateInputFieldValue(e,t.fieldAPIName,j$(this).val())},n.style.width="100%",t.isReadOnly&&n.setAttribute("disabled","disabled"),n},Appurin.ui.createRichTextInputField=function(e,t,i){var n=document.createElement("textarea");return n.innerHTML=null!=e[t.fieldAPIName]?e[t.fieldAPIName]:"",n.style.width="100%",n.onchange=function(){Appurin.ui.updateInputFieldValue(e,t.fieldAPIName,j$(this).html())},n.setAttribute("id","richTextField"+t.fieldAPIName+e.Id),n.setAttribute("class","ckeditor"),n},Appurin.ui.createPicklistInputField=function(e,t,i){var a=document.createElement("select");Appurin.setAttributes(a,{class:"slds-input"}),a.onchange=function(){Appurin.ui.updateInputFieldValue(e,t.fieldAPIName,j$(this).val())};var n=document.createElement("option");return Appurin.setAttributes(n,{value:""}),n.textContent="--None--",a.appendChildren(n),j$.each(t.picklistOptions,function(e,t){var i=t.value.trim(),n=t.label.trim(),u=document.createElement("option");Appurin.setAttributes(u,{value:i}),u.textContent=n,a.appendChildren(u)}),a.value=null!=e[t.fieldAPIName]?e[t.fieldAPIName]:"",t.isReadOnly&&a.setAttribute("disabled","disabled"),a},Appurin.ui.createCheckboxInputField=function(e,t,i){var n=document.createElement("label");Appurin.setAttributes(n,{class:"slds-checkbox"});var u=document.createElement("input");Appurin.setAttributes(u,{type:"checkbox"}),u.onchange=function(){Appurin.ui.updateInputFieldValue(e,t.fieldAPIName,"checked"==j$(this).attr("checked"))},null!=e[t.fieldAPIName]&&e[t.fieldAPIName]&&u.setAttribute("checked","checked"),t.isReadOnly&&u.setAttribute("disabled","disabled"),n.appendChildren(u);var a=document.createElement("span");Appurin.setAttributes(a,{class:"slds-checkbox--faux"}),n.appendChildren(a);var l=document.createElement("span");return Appurin.setAttributes(l,{class:"slds-form-element__label"}),n.appendChildren(l),n},Appurin.ui.createDateInputField=function(t,i,e){var n=document.createElement("input");return Appurin.setAttributes(n,{type:"date",class:"slds-input"}),n.value=null!=t[i.fieldAPIName]?t[i.fieldAPIName]:"",n.onchange=function(){var e=j$(this).val()?j$(this).val():null;Appurin.ui.updateInputFieldValue(t,i.fieldAPIName,e)},i.isReadOnly&&n.setAttribute("disabled","disabled"),n},Appurin.ui.createDateTimeInputField=function(t,i,e){var n=t[i.fieldAPIName];n=n&&n.substring(0,n.indexOf("T"));var u=document.createElement("input");return Appurin.setAttributes(u,{type:"date",class:"slds-input"}),u.value=null!=n?n:"",u.onchange=function(){var e=j$(this).val()?j$(this).val():null;null!=e&&"DATETIME"==i.fieldType&&(e+="T00:00:00"),Appurin.ui.updateInputFieldValue(t,i.fieldAPIName,e)},i.isReadOnly&&u.setAttribute("disabled","disabled"),u},Appurin.ui.updateInputFieldValue=function(e,t,i){e[t]=i},Appurin.ui.validateInputFieldValue=function(e,t,i){if("DOUBLE"==t){var n=e.val(),u=new Number(n);if(isNaN(u))return a="-"!=n?(a="{0} is not a valid number.").replace("{0}",i):(a="{0} cannot be less than zero.").replace("{0}",i),alert(a),e.val(""),!1;if(""!=n.trim()){if(e.value=parseInt(n),1e3<=parseFloat(n))return a=(a="{0} cannot be greater than 1000.").replace("{0}",i),alert(a),e.val(""),!1;if(parseFloat(n)<0)return a=(a="{0} cannot be less than 0.").replace("{0}",i),alert(a),e.val(""),!1}}else if("DATETIME"==t||"DATE"==type){var a;if(""!=n)return n.match(/^([0-9]|1[012])[\-\/.](?:([1-9]|[12][0-9]|3[01])[\- \/.](19|20)[0-9]{2})$/)||n.match(/[0-1]?\d\/[0-3]?\d\/\d{4} [0-1]?\d:[0-5]\d [aApP][mM]/)||(a=(a="{0} is not a valid date.").replace("{0}",i),alert(a),e.val("")),!1}};